{"remainingRequest":"/home/nmountasir/Documents/M2/ERP/qualite-erp-back/erp_caisse/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nmountasir/Documents/M2/ERP/qualite-erp-back/erp_caisse/src/components/Desktop.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nmountasir/Documents/M2/ERP/qualite-erp-back/erp_caisse/src/components/Desktop.vue","mtime":1641494110004},{"path":"/home/nmountasir/Documents/M2/ERP/qualite-erp-back/erp_caisse/node_modules/cache-loader/dist/cjs.js","mtime":1641494124632},{"path":"/home/nmountasir/Documents/M2/ERP/qualite-erp-back/erp_caisse/node_modules/babel-loader/lib/index.js","mtime":1641494125036},{"path":"/home/nmountasir/Documents/M2/ERP/qualite-erp-back/erp_caisse/node_modules/cache-loader/dist/cjs.js","mtime":1641494124632},{"path":"/home/nmountasir/Documents/M2/ERP/qualite-erp-back/erp_caisse/node_modules/vue-loader/lib/index.js","mtime":1641494125152}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKZXhwb3J0IGRlZmF1bHR7CgluYW1lOiJEZXNrdG9wIiwKCXByb3BzOnsKCQlwcm9kdWN0czogQXJyYXksCgkJdXNlcnNEYXRhOiBBcnJheSwKCQljb25maWc6IE9iamVjdCwKCX0sCglkYXRhKCkgewoJCXJldHVybiB7CgkJCXNob3c6IGZhbHNlLAoJCQlkcmF3ZXI6IGZhbHNlLAoJCQljYXJ0OiBmYWxzZSwKCQkJZGlhbG9nOiBmYWxzZSwKCQkJdXNlckNhcnQ6IHt0b3RhbDowLCBjYXJ0OltdfSwKCQkJc2VsZWN0ZWRTZXQ6IDAsCgkJCWRpc3BsYXlTZXQ6IHRydWUsCgkJCW1lbnVzOiBbCgkJCQl7bmFtZToiVXNlcnMgbGlzdCIsaWNvbjogIm1kaS1hY2NvdW50LWNpcmNsZS1vdXRsaW5lIn0sCgkJCQl7bmFtZToiQWRkIENyZWRpdCIsaWNvbjogIm1kaS1jYXNoLXBsdXMifSwKCQkJCS8ve25hbWU6IkFkZCBFdmVudCIsaWNvbjogIm1kaS1wbHVzLWNpcmNsZS1vdXRsaW5lIn0sCgkJCV0sCgkJCWhlYWRlcnM6IFsKCQkJCXsKCQkJCQl0ZXh0OiAnTsKwIFRyYW5zYWN0aW9uJywKCQkJCQlhbGlnbjogJ3N0YXJ0JywKCQkJCQlzb3J0YWJsZTogZmFsc2UsCgkJCQkJdmFsdWU6ICd0cmFuc2FjdGlvbklkJywKCQkJCX0sCgkJCQl7IHRleHQ6ICdEYXRlJywgdmFsdWU6ICdkYXRlJyB9LAoJCQkJeyB0ZXh0OiAnVHJhbnNhY3Rpb24nLCB2YWx1ZTogJ3RyYW5zYWN0aW9uQ29udGVudCcgfSwKCQkJXSwKCQkJc2VhcmNoSW5wdXQ6IiIsCgkJCXNlYXJjaFVzZXI6IiIsCgkJCWNvbXB1dGVkSGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQgLSAxMDAsCgkJCXVzZXJJZDoiIiwKCQkJYW1vdW50OiIiLAoJCQlwdzoiIiwKCQkJdG9rZW46IlZpVmVMZVdlRWtFbkQhIgoJCX0KCX0sCgljb21wdXRlZDogewoJCS8vIFJldG91cm5lIGxhIGhhdXRldXIgZGUgbCfDqWNyYW4KCQloZWlnaHQgKCkgewoJCQlzd2l0Y2ggKHRoaXMuJHZ1ZXRpZnkuYnJlYWtwb2ludC5uYW1lKSB7CgkJCWNhc2UgJ3hzJzogcmV0dXJuIDIyMAoJCQljYXNlICdzbSc6IHJldHVybiA0MDAKCQkJY2FzZSAnbWQnOiByZXR1cm4gNTAwCgkJCWNhc2UgJ2xnJzogcmV0dXJuIDYwMAoJCQljYXNlICd4bCc6IHJldHVybiA4MDAKCQkJZGVmYXVsdCA6IHJldHVybiA4MDAKCQkJfQoJCX0sCgkJLy8gUmV0b3VybmUgbGUgcHJpeCB0b3RhbCBkdSBwYW5pZXIKCQl0b3RhbDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQgc3VtID0gMDsKICAgICAgICAgICAgZm9yKGxldCBpID0wO2kgPCB0aGlzLnVzZXJDYXJ0LmNhcnQubGVuZ3RoOyBpKyspewoJCQkJaWYgKHRoaXMudXNlckNhcnQuY2FydFtpXS50eXBlID09ICJidXkiKQoJCQkJCXN1bSA9IHN1bSArIHRoaXMudXNlckNhcnQuY2FydFtpXS5hcnRpY2xlLnByaXggKiB0aGlzLnVzZXJDYXJ0LmNhcnRbaV0uY291bnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHN1bTsKICAgICAgICB9LAoJCS8vIFJldG91cm5lIGxlIHNldCDDoCBhZmZpY2hlciBkYW5zIGxhIHBhZ2UgbWFnYXNpbgoJCXNldDogZnVuY3Rpb24oKXsKCQkJaWYgKHRoaXMuZGlzcGxheVNldCkKCQkJCXJldHVybiB0aGlzLnByb2R1Y3RzW3RoaXMuc2VsZWN0ZWRTZXRdCgkJCWVsc2UKCQkJCXJldHVybiBudWxsCgkJfSwKCQkvLyBSZXRvdXJuZSBsYSBsaXN0ZSBkZXMgdXRpbGlzdGV1cnMKCQl1c2VyczogZnVuY3Rpb24oKXsKCQkJcmV0dXJuIHRoaXMudXNlcnNEYXRhLmZpbHRlcihlID0+IGUudXNlcm5hbWUuaW5jbHVkZXModGhpcy5zZWFyY2hJbnB1dCkpCgkJfSwKCQlmb3VuZFVzZXI6IGZ1bmN0aW9uKCl7CgkJCWxldCByZXMgPSB0aGlzLnVzZXJzRGF0YS5maWx0ZXIoZSA9PiBlLmlkLmluY2x1ZGVzKHRoaXMuc2VhcmNoSW5wdXQpKQoJCQlpZiAocmVzLmxlbmd0aCA9PSAxKQoJCQkJcmV0dXJuICJVc2VyIGZvdW5kLiIKCQkJZWxzZQoJCQkJcmV0dXJuICJOb3QgZm91bmQiCgkJfQoJfSwKCWNvbXBvbmVudHM6IHsKCX0sCgoJbWV0aG9kczogewoJCXBheSgpewoJCQljb25zb2xlLmxvZygpOwoJCQl2YXIgY2hlY2tvdXRJZDsKCQkJdmFyIHJlcXVlc3QgPSB7CgkJCQltZXRob2Q6ICJQT1NUIiwKCQkJCW1vZGU6ICJjb3JzIiwKCQkJCWhlYWRlcnM6IHsKCQkJCQkiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCgkJCQl9LAoJCQkJYm9keTogSlNPTi5zdHJpbmdpZnkoewoJCQkJCXJlZjogTWF0aC5yYW5kb20oKSwKCQkJCQlhbW91bnQ6IHRoaXMudG90YWwsCgkJCQkJZGVzYzogInRlc3QiLAoJCQkJfSkKCQkJfQoKCQkJZmV0Y2godGhpcy5jb25maWcuaXAgKyAiL2NoZWNrb3V0IiwgcmVxdWVzdCkKCQkJCS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSkKCQkJCS50aGVuKGRhdGEgPT4gewoJCQkJCWNoZWNrb3V0SWQgPSBkYXRhOwoJCQkJCWNvbnNvbGUubG9nKCJDaGVja291dCBJRCA6ICIgKyBjaGVja291dElkKTsKCQkJCQl0aGlzLmRpYWxvZyA9IGZhbHNlOwoJCQkJCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGhpcy5jb25maWcuaXAgKyAiLz9jaGVja291dF9pZD0iICsgY2hlY2tvdXRJZCArICImdXNlcl9pZD0iICsgdGhpcy5zZWFyY2hVc2VyIDsKCQkJCX0pCgkJCQkuY2F0Y2goZXJyb3IgPT4geyBjb25zb2xlLmVycm9yKGVycm9yKSB9KQoJCX0sCgkJLy8gQXVnbWVudGUgbGUgY29tcHRldXIgZCd1biBvYmpldCBkw6lqw6AgZGFucyBsZSBwYW5pZXIgCgkJYWRkU29tZShvYmopewogICAgICAgICAgICBvYmouY291bnQrKzsKICAgICAgICB9LAogICAgICAgIC8vIEVubMOpdmUgMSBhdSBjb21wdGV1ciBkJ3VuIG9iamV0IGRhbnMgbGUgcGFuaWVyLCBzaSBsZSBjb21wdGV1ciBlc3Qgw6AgMCwgb24gc3VwcHJpbWUgbCdvYmpldAogICAgICAgIHJlbW92ZVNvbWUob2JqKXsKICAgICAgICAgICAgb2JqLmNvdW50LS07CiAgICAgICAgICAgIGlmKG9iai5jb3VudCA8PSAwKQogICAgICAgICAgICAgICAgdGhpcy5kcm9wQXJ0aWNsZShvYmopOwogICAgICAgIH0sCgkJLy8gQWJhbmRvbm5lIHVuIG9iamV0IGR1IHBhbmllcgoJCWRyb3BBcnRpY2xlKG9iail7CiAgICAgICAgICAgIGNvbnN0IGlkeCA9IHRoaXMudXNlckNhcnQuY2FydC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmFydGljbGUubmFtZSA9PT0gb2JqLmFydGljbGUubmFtZSApCiAgICAgICAgICAgIHRoaXMudXNlckNhcnQuY2FydC5zcGxpY2UoaWR4LDEpCgkJCXRoaXMuJGZvcmNlVXBkYXRlKCkKICAgICAgICB9LAoJCS8vIEFqb3V0ZSB1biBub3V2ZWwgb2JqZXQgZGFucyBsZSBwYW5pZXIKCQlhZGRBcnQoaXRlbSl7CgkJCWNvbnNvbGUubG9nKGl0ZW0ubmFtZSkKCQkJLy8gU2kgbCdvYmpldCBleGlzdGUgZMOpasOgLCBhdWdtZW50ZXIgbGUgY29tcHRldXIKCQkJZm9yKGxldCBpID0gMDsgaSA8IHRoaXMudXNlckNhcnQuY2FydC5sZW5ndGg7IGkrKyl7CgkJCQlpZiAodGhpcy51c2VyQ2FydC5jYXJ0W2ldLmFydGljbGUubmFtZSA9PSBpdGVtLm5hbWUpewoJCQkJCXRoaXMudXNlckNhcnQuY2FydFtpXS5jb3VudCsrCgkJCQkJcmV0dXJuIHRydWU7CgkJCQl9CgkJCX0KCQkJdGhpcy51c2VyQ2FydC5jYXJ0LnB1c2goe3R5cGU6ImJ1eSIsYXJ0aWNsZTppdGVtLGNvdW50OiAxfSkKCQl9LAoJCS8vIFJlY2FsY3VsZXIgbGEgdGFpbGxlCgkJb25SZXNpemUoKXsKCQkJdGhpcy5jb21wdXRlZEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIDEwMAoJCX0sCgkJLy8gVmlkZXIgbGUgcGFuaWVyCgkJY2xlYXJDYXJ0KCl7CgkJCXRoaXMudXNlckNhcnQuY2FydCA9IFtdCgkJfSwKCQljb25maXJtVGVzdCgpewoJCQlhbGVydCgnaHR0cDovL2VycC1zdHVkZW50LTIwMjEuMDAwd2ViaG9zdGFwcC5jb20vYXBpLnBocD90b2tlbj0nICsgdGhpcy50b2tlbiArICcmYT1hZGQtbW9uZXkmaWQ9JyArIHRoaXMudXNlcklkICsgJyZ3PScgKyB0aGlzLmFtb3VudCkKCQkJY29uc3QgcmVzcG9uc2UgPSBheGlvcy5nZXQoJ2h0dHA6Ly9lcnAtc3R1ZGVudC0yMDIxLjAwMHdlYmhvc3RhcHAuY29tL2FwaS5waHA/dG9rZW49JyArIHRoaXMudG9rZW4gKyAnJmE9YWRkLW1vbmV5JmlkPScgKyB0aGlzLnVzZXJJZCArICcmdz0nICsgdGhpcy5hbW91bnQpCgkJCXJlc3BvbnNlLnRoZW4oZnVuY3Rpb24ocmVzKSB7CgkJCQlhbGVydChKU09OLnN0cmluZ2lmeShyZXMpKQoJCQl9KTsKCQl9LAoJCS8vIHBheSgpewoJCS8vIAl2YXIgZGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLnNwbGl0KCctJykKCQkvLyAJdmFyIHByb2R1aXQgPSAiT2JqZXQiCgkJLy8gCWNvbnN0IHJlc3BvbnNlID0gYXhpb3MuZ2V0KCdodHRwOi8vZXJwLXN0dWRlbnQtMjAyMS4wMDB3ZWJob3N0YXBwLmNvbS9hcGkucGhwP3Rva2VuPScgKyB0aGlzLnRva2VuICsgJyZhPWFkZC10cmFuc2FjdGlvbiZpZD0nICsgdGhpcy5zZWFyY2hVc2VyICsgJyZ3PSU3QiUyMmRhdGUlMjI6JTIyJyArIGRhdGVbMl0rJyUyRicrZGF0ZVsxXSsnJTJGJytkYXRlWzBdICsgJyUyMiwlMjJtb250YW50JTIyOi0nICsgdGhpcy50b3RhbCArICcsJTIyYXJ0aWNsZSUyMjolMjInICsgcHJvZHVpdCArICclMjIlN0QnKQoJCS8vIAlyZXNwb25zZS50aGVuKGZ1bmN0aW9uKHJlcykgewoJCS8vIAkJYWxlcnQoSlNPTi5zdHJpbmdpZnkocmVzKSkKCQkvLyAJfSk7CgkJLy8gfQoJfQp9Cg=="},{"version":3,"sources":["Desktop.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Desktop.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<div v-resize=\"onResize\">\n\t<v-navigation-drawer\n\t\t\tv-model=\"drawer\"\n\t\t\tabsolute\n\t\t\tpermanent\n\t\t>\n\t\t\t<v-list nav class=\"overflow-y-auto\" :max-height=computedHeight>\n\t\t\t\t<v-list-item-group v-model=\"selectedSet\">\n\t\t\t\t\t<v-list-item\n\t\t\t\t\t\tv-for=\"item in products\"\n\t\t\t\t\t\tv-bind:key=\"item.name\"\n\t\t\t\t\t\t@click=\"displaySet = true\">\n\t\t\t\t\t\t<v-list-item-icon><v-icon>{{item.icon}}</v-icon></v-list-item-icon>\n\t\t\t\t\t\t<v-list-item-title>{{item.name}}</v-list-item-title>\n\t\t\t\t\t</v-list-item>\n\t\t\t\t\t<v-divider></v-divider>\n\t\t\t\t\t<v-list-item\n\t\t\t\t\t\tv-for=\"item in menus\"\n\t\t\t\t\t\tv-bind:key=\"item.name\"\n\t\t\t\t\t\t@click=\"displaySet = false\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<v-list-item-icon>\n\t\t\t\t\t\t\t<v-icon >{{item.icon}}</v-icon>\n\t\t\t\t\t\t</v-list-item-icon>\n\t\t\t\t\t\t<v-list-item-title>{{item.name}}</v-list-item-title>\n\t\t\t\t\t</v-list-item>\n\n\t\t\t\t</v-list-item-group>\n\t\t\t</v-list>\n\t\t</v-navigation-drawer>\n\n\t\t<v-row class=\"ml-10 mr-5\">\n\t\t\t<v-col cols=\"2\"></v-col>\n\t\t\t<v-col cols=\"8\">\n\t\t\t\t<div v-if=\"displaySet\" >\n\t\t\t\t\t<v-list class=\"overflow-y-auto\" :max-height=computedHeight >\n\t\t\t\t\t\t<v-list-item>\n\t\t\t\t\t\t<v-row class=\"fill-height pa-5\">\n\t\t\t\t\t\t\t<v-col cols=\"4\"\n\t\t\t\t\t\t\t\tclass=\"pa-0\"\n\t\t\t\t\t\t\t\tv-for=\"item in set.articles\"\n\t\t\t\t\t\t\t\tv-bind:key=\"item.name\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<v-card\n\t\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\theight=\"100%\">\n\t\t\t\t\t\t\t\t\t<v-card-title> {{item.name}}</v-card-title>\n\t\t\t\t\t\t\t\t\t<v-card-text class=\"pl-5 font-light-black\"> {{item.prix}}€</v-card-text>\n\t\t\t\t\t\t\t\t\t<v-card-actions>\n\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t\t\t\t\t@click=\"addArt(item)\"> ADD </v-btn>\n\t\t\t\t\t\t\t\t\t</v-card-actions>\n\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t</v-list>\n\t\t\t\t</div>\n\t\t\t\t<!-- *************************** USERS LIST ******************* -->\n\t\t\t\t<div v-else-if=\"selectedSet == products.length + 0\" class=\"ma-5 mr-10\">\n\t\t\t\t\t<v-card>\n\t\t\t\t\t\t<v-card-title> Users </v-card-title>\n\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\tclass=\"pa-5 pt-0\"\n\t\t\t\t\t\t\tlabel=\"Search username\"\n\t\t\t\t\t\t\tv-model=\"searchInput\"\n\t\t\t\t\t\t\thide-details=\"auto\"\n\t\t\t\t\t\t></v-text-field>\n\t\t\t\t\t</v-card>\n\t\t\t\t\t<v-list class=\"overflow-y-auto\" :max-height=computedHeight >\n\t\t\t\t\t\t<v-list-item>\n\t\t\t\t\t\t\t<v-expansion-panels >\n\t\t\t\t\t\t\t\t<v-expansion-panel\n\t\t\t\t\t\t\t\t\tv-for=\"item in users\"\n\t\t\t\t\t\t\t\t\tv-bind:key=\"item.id\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<v-expansion-panel-header>\n\t\t\t\t\t\t\t\t\t\t{{item.username}}\n\t\t\t\t\t\t\t\t\t</v-expansion-panel-header>\n\t\t\t\t\t\t\t\t\t<v-expansion-panel-content>\n\t\t\t\t\t\t\t\t\t\t<span class=\"font-weight-black\"> Name : </span>{{item.username}} <br/>\n\t\t\t\t\t\t\t\t\t\t<span class=\"font-weight-black\"> Id : </span>{{item.id}} <br/>\n\t\t\t\t\t\t\t\t\t\t<span class=\"font-weight-black\"> Credit : </span>{{item.credit}} <br/>\n\t\t\t\t\t\t\t\t\t\t<span class=\"font-weight-black\"> {{item.username}}'s transactions historic : </span><br/>\n\n\t\t\t\t\t\t\t\t\t\t<v-data-table\n\t\t\t\t\t\t\t\t\t\t\t:headers=\"headers\"\n\t\t\t\t\t\t\t\t\t\t\t:items=\"item.historic\">\n\t\t\t\t\t\t\t\t\t\t</v-data-table>\n\t\t\t\t\t\t\t\t\t</v-expansion-panel-content>\n\t\t\t\t\t\t\t\t</v-expansion-panel>\n\t\t\t\t\t\t\t</v-expansion-panels>\n\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t</v-list>\n\t\t\t\t</div>\n\n\t\t<!-- *********************** ADD MONEY ****************************** -->\n\t\t\t\t<div v-else-if=\"selectedSet == products.length + 1\"\n\t\t\t\t\tclass=\"ma-10 ml-5\"\n\t\t\t\t>\n\t\t\t\t\t<v-card>\n\t\t\t\t\t\t<v-card-title>Add credit</v-card-title>\n\t\t\t\t\t\t<v-card-text>\n\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\tv-model=\"userId\"\n\t\t\t\t\t\t\t\tlabel=\"User ID\"\n\t\t\t\t\t\t\t></v-text-field>\n\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\tv-model=\"amount\"\n\t\t\t\t\t\t\t\tlabel=\"Amount\"\n\t\t\t\t\t\t\t></v-text-field>\n\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\tv-model=\"pw\"\n\t\t\t\t\t\t\t\tlabel=\"Administrator password\"\n\t\t\t\t\t\t\t\t:type=\"show ? 'text' : 'password'\"\n\t\t\t\t\t\t\t\t:append-icon=\"show ? 'mdi-eye' : 'mdi-eye-off'\"\n\t\t\t\t\t\t\t\t@click:append=\"show = !show\"\n\t\t\t\t\t\t\t></v-text-field>\n\t\t\t\t\t\t\t<v-btn @click=\"confirmTest()\" block text color=\"primary\"> Valid </v-btn>\n\t\t\t\t\t\t</v-card-text>\n\t\t\t\t\t</v-card>\n\t\t\t\t</div>\n\t\t\t</v-col>\n\t\t</v-row>\n\n\n\t\t<v-navigation-drawer\n\t\t\tabsolute\n\t\t\tpermanent\n\t\t\tright\n\t\t>\n\t\t\t<v-card height=\"50px\" elevation=\"0\" flat><v-card-title></v-card-title></v-card>\n\n\t\t\t<v-list class=\"overflow-y-auto\" :max-height=computedHeight>\n\t\t\t\t<v-list-item-group>\n\t\t\t\t\t<v-list-item\n\t\t\t\t\t\tv-for=\"item in userCart.cart\"\n\t\t\t\t\t\tv-bind:key=\"item.name\">\n\t\t\t\t\t\t{{item.article.name}}\n\t\t\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t\t\t<v-btn fab elevation=\"0\" x-small class=\"mr-2\"\n\t\t\t\t\t\t\t@click=\"addSome(item)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<v-icon>mdi-plus-thick</v-icon>\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t{{item.count}}\n\t\t\t\t\t\t<v-btn fab elevation=\"0\" x-small class=\"ml-2\"\n\t\t\t\t\t\t\t@click=\"removeSome(item)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<v-icon>mdi-minus-thick</v-icon>\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t</v-list-item>\n\t\t\t\t</v-list-item-group>\n\t\t\t</v-list>\n\t\t\t<template v-slot:append>\n\t\t\t\t<v-btn block @click=\"clearCart\" color=\"red\" text> CLEAR </v-btn>\n\t\t\t\t<v-sheet class=\"pa-5\">\n\t\t\t\t\tTotal : {{total}}\n\t\t\t\t</v-sheet>\n\t\t\t\t<v-dialog\n\t\t\t\t\tv-model=\"dialog\"\n\t\t\t\t\twidth=\"500\"\n\t\t\t\t>\n\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\n\t\t\t\t\t\t<v-btn block\n\t\t\t\t\t\t\ttext\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tv-bind=\"attrs\"\n\t\t\t\t\t\t\tv-on=\"on\">Valid</v-btn>\n\t\t\t\t\t</template>\n\t\t\t\t\t<v-card class=\"overflow-y-auto\">\n\t\t\t\t\t\t<v-card-title>Log user - {{searchUser}}</v-card-title>\n\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\tclass=\"pa-10\"\n\t\t\t\t\t\t\tv-model=searchUser\n\t\t\t\t\t\t\tlabel=\"User ID\" ></v-text-field>\n\n\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\tcolor=\"green\"\n\t\t\t\t\t\t\ttext\n\t\t\t\t\t\t\t@click=\"pay()\"\n\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPay\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\ttext\n\t\t\t\t\t\t\t@click=\"dialog = false\"\n\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t</v-card>\n\t\t\t\t</v-dialog>\n\t\t\t\t<v-card height=\"50px\" elevation=\"0\" flat><v-card-title></v-card-title></v-card>\n\t\t\t</template>\n\t\t</v-navigation-drawer>\n\t\t</div>\n</template>\n\n\n<script>\nimport axios from 'axios'\nexport default{\n\tname:\"Desktop\",\n\tprops:{\n\t\tproducts: Array,\n\t\tusersData: Array,\n\t\tconfig: Object,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshow: false,\n\t\t\tdrawer: false,\n\t\t\tcart: false,\n\t\t\tdialog: false,\n\t\t\tuserCart: {total:0, cart:[]},\n\t\t\tselectedSet: 0,\n\t\t\tdisplaySet: true,\n\t\t\tmenus: [\n\t\t\t\t{name:\"Users list\",icon: \"mdi-account-circle-outline\"},\n\t\t\t\t{name:\"Add Credit\",icon: \"mdi-cash-plus\"},\n\t\t\t\t//{name:\"Add Event\",icon: \"mdi-plus-circle-outline\"},\n\t\t\t],\n\t\t\theaders: [\n\t\t\t\t{\n\t\t\t\t\ttext: 'N° Transaction',\n\t\t\t\t\talign: 'start',\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tvalue: 'transactionId',\n\t\t\t\t},\n\t\t\t\t{ text: 'Date', value: 'date' },\n\t\t\t\t{ text: 'Transaction', value: 'transactionContent' },\n\t\t\t],\n\t\t\tsearchInput:\"\",\n\t\t\tsearchUser:\"\",\n\t\t\tcomputedHeight: window.innerHeight - 100,\n\t\t\tuserId:\"\",\n\t\t\tamount:\"\",\n\t\t\tpw:\"\",\n\t\t\ttoken:\"ViVeLeWeEkEnD!\"\n\t\t}\n\t},\n\tcomputed: {\n\t\t// Retourne la hauteur de l'écran\n\t\theight () {\n\t\t\tswitch (this.$vuetify.breakpoint.name) {\n\t\t\tcase 'xs': return 220\n\t\t\tcase 'sm': return 400\n\t\t\tcase 'md': return 500\n\t\t\tcase 'lg': return 600\n\t\t\tcase 'xl': return 800\n\t\t\tdefault : return 800\n\t\t\t}\n\t\t},\n\t\t// Retourne le prix total du panier\n\t\ttotal: function () {\n            let sum = 0;\n            for(let i =0;i < this.userCart.cart.length; i++){\n\t\t\t\tif (this.userCart.cart[i].type == \"buy\")\n\t\t\t\t\tsum = sum + this.userCart.cart[i].article.prix * this.userCart.cart[i].count;\n            }\n            return sum;\n        },\n\t\t// Retourne le set à afficher dans la page magasin\n\t\tset: function(){\n\t\t\tif (this.displaySet)\n\t\t\t\treturn this.products[this.selectedSet]\n\t\t\telse\n\t\t\t\treturn null\n\t\t},\n\t\t// Retourne la liste des utilisteurs\n\t\tusers: function(){\n\t\t\treturn this.usersData.filter(e => e.username.includes(this.searchInput))\n\t\t},\n\t\tfoundUser: function(){\n\t\t\tlet res = this.usersData.filter(e => e.id.includes(this.searchInput))\n\t\t\tif (res.length == 1)\n\t\t\t\treturn \"User found.\"\n\t\t\telse\n\t\t\t\treturn \"Not found\"\n\t\t}\n\t},\n\tcomponents: {\n\t},\n\n\tmethods: {\n\t\tpay(){\n\t\t\tconsole.log();\n\t\t\tvar checkoutId;\n\t\t\tvar request = {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tmode: \"cors\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tref: Math.random(),\n\t\t\t\t\tamount: this.total,\n\t\t\t\t\tdesc: \"test\",\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tfetch(this.config.ip + \"/checkout\", request)\n\t\t\t\t.then(response => response.text())\n\t\t\t\t.then(data => {\n\t\t\t\t\tcheckoutId = data;\n\t\t\t\t\tconsole.log(\"Checkout ID : \" + checkoutId);\n\t\t\t\t\tthis.dialog = false;\n\t\t\t\t\twindow.location.href = this.config.ip + \"/?checkout_id=\" + checkoutId + \"&user_id=\" + this.searchUser ;\n\t\t\t\t})\n\t\t\t\t.catch(error => { console.error(error) })\n\t\t},\n\t\t// Augmente le compteur d'un objet déjà dans le panier \n\t\taddSome(obj){\n            obj.count++;\n        },\n        // Enléve 1 au compteur d'un objet dans le panier, si le compteur est à 0, on supprime l'objet\n        removeSome(obj){\n            obj.count--;\n            if(obj.count <= 0)\n                this.dropArticle(obj);\n        },\n\t\t// Abandonne un objet du panier\n\t\tdropArticle(obj){\n            const idx = this.userCart.cart.findIndex(item => item.article.name === obj.article.name )\n            this.userCart.cart.splice(idx,1)\n\t\t\tthis.$forceUpdate()\n        },\n\t\t// Ajoute un nouvel objet dans le panier\n\t\taddArt(item){\n\t\t\tconsole.log(item.name)\n\t\t\t// Si l'objet existe déjà, augmenter le compteur\n\t\t\tfor(let i = 0; i < this.userCart.cart.length; i++){\n\t\t\t\tif (this.userCart.cart[i].article.name == item.name){\n\t\t\t\t\tthis.userCart.cart[i].count++\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.userCart.cart.push({type:\"buy\",article:item,count: 1})\n\t\t},\n\t\t// Recalculer la taille\n\t\tonResize(){\n\t\t\tthis.computedHeight = window.innerHeight - 100\n\t\t},\n\t\t// Vider le panier\n\t\tclearCart(){\n\t\t\tthis.userCart.cart = []\n\t\t},\n\t\tconfirmTest(){\n\t\t\talert('http://erp-student-2021.000webhostapp.com/api.php?token=' + this.token + '&a=add-money&id=' + this.userId + '&w=' + this.amount)\n\t\t\tconst response = axios.get('http://erp-student-2021.000webhostapp.com/api.php?token=' + this.token + '&a=add-money&id=' + this.userId + '&w=' + this.amount)\n\t\t\tresponse.then(function(res) {\n\t\t\t\talert(JSON.stringify(res))\n\t\t\t});\n\t\t},\n\t\t// pay(){\n\t\t// \tvar date = new Date().toISOString().substr(0, 10).split('-')\n\t\t// \tvar produit = \"Objet\"\n\t\t// \tconst response = axios.get('http://erp-student-2021.000webhostapp.com/api.php?token=' + this.token + '&a=add-transaction&id=' + this.searchUser + '&w=%7B%22date%22:%22' + date[2]+'%2F'+date[1]+'%2F'+date[0] + '%22,%22montant%22:-' + this.total + ',%22article%22:%22' + produit + '%22%7D')\n\t\t// \tresponse.then(function(res) {\n\t\t// \t\talert(JSON.stringify(res))\n\t\t// \t});\n\t\t// }\n\t}\n}\n</script>\n"]}]}